{"version":3,"sources":["src/CST.js","src/scenes/LoadScene.js","src/scenes/MenuScene.js","src/gameObjects/Projectiles.js","src/scenes/PlayScene.js","src/main.js"],"names":["CST","SCENES","LOAD","MENU","PLAY","LoadScene","key","load","image","atlas","audio","loadingBar","add","graphics","fillStyle","color","on","percent","fillRect","game","renderer","height","width","scene","start","Phaser","Scene","MenuScene","setOrigin","setDepth","startButton","bgmusic","sound","play","buttonCursor","setScale","setVisible","setInteractive","x","y","stop","Bullet","setTexture","speed","angle","xSpeed","ySpeed","timeAlive","shooter","mouseX","mouseY","setActive","setPosition","setAngle","body","rotation","Math","sign","nonZeroVelocity","time","delta","GameObjects","Image","PlayScene","tilemapTiledJSON","player","physics","sprite","bullets","group","classType","runChildUpdate","attack","bullet","get","children","shoot","input","wolf","setCollideWorldBounds","anims","create","frameRate","frames","generateFrameNames","end","zeroPad","prefix","suffix","repeat","keyboard","addKeys","Mymap","tilemap","tiles1","addTilesetImage","tiles2","groundLayer","createStaticLayer","centerLayer","waterLayer","objectLayer","addonLayer","world","setBounds","widthInPixels","heightInPixels","cameras","main","startFollow","collider","overlap","overlaped","destroy","removeCollider","console","log","length","active","W","isDown","setVelocityY","S","A","setVelocityX","D","isUp","velocity","moveToObject","Game","type","AUTO","default","arcade","debug","render","pixelArt"],"mappings":";;AKEA;;AACA;;ALHO,AKIP,ILJaA,GAAG,GAAE;AACdC,ACDJ,ACAA,AEIA,EJHIA,MAAM,EAAG;AACLC,AKFR,ILEQA,IAAI,EAAE,MADD;AAELC,AKGR,ADDA,IJFQA,AKGJgB,ILHQ,AKGJ,ELHM,CKGH,IAAIM,CLLF,KKKQ,CAACwG,IAAX,CAAgB;ALFnB7H,AKGJ8H,EAAAA,ELHI9H,EKGA,ELHI,AKGFqB,ELHI,IKGE,CAAC0G,IADU;ALLd,AKOT7G,EAAAA,KAAK,EAAC,GAFiB;ALNT,AKSdD,CLTG,CKSHA,MAAM,EAAC,GAHgB;AAIvB6C,EAAAA,OAAO,EAAE;AACLkE,IAAAA,OAAO,EAAE,QADJ;AAELC,IAAAA,MAAM,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH;AAFH,GAJc;AAUvB/G,EAAAA,KAAK,EAAC,CACHlB,oBADG,EACOsB,oBADP,EACiBoC,oBADjB,CAViB;AAavBwE,EAAAA,MAAM,EAAC;AACHC,IAAAA,QAAQ,EAAE;AADP;AAbgB,CAAhB,CAAX;;IFNa/F;;IFCApC,ACAAsB;;IEKAoC;ADLT,kBAAYxC,KAAZ,EAAkB;AAAA;AFClB,ACAA,uBDAa,ACAA;ACDK,AFCL,ACAA;AEKb,uBAAa;ADLT,AFAS,ACAA,AEKA,gFDLHA,EFCA,ACAA,GCDN,EAAY,CAAZ,EAAc,CAAd;AFEIjB,ACAAA,MDAAA,ACAAA,GDAG,ACAA,EDAEN,ACAAA,SDAIC,ACAAA,MDAJ,ACAA,CDAWC,ACAAC;ACApB,AFDM,ACAA,AEIG,KHLA,ACAA,KCEJuC,UAAL,CAAgB,cAAhB,EAHc,CAGmB,4CCI3B;AHFT,ACAA,AEEUpC,MAAAA,GAAG,EAACN,SAAIC,MAAJ,CAAWG;AAAhB,KADG;ADFT,ACIH,UDJQuC,KAAL,GAAa,CAAb;AACA,UAAKC,KAAL,GAAa,CAAb;AACA,UAAKC,MAAL,GAAc,CAAd,OFAE,ACAA,CDEL,ACAA;ACDG,UAAKC,MAAL,GAAc,CAAd;AACA,UAAKC,SAAL,GAAiB,CAAjB,OCEK;ADVS,ACWd,WAAKxC,IAAL,CAAUC,KAAV,CAAgB,OFDZ,CDAC,AGCL,EAA0B,8BAA1B;ADDH,AFAQ,ACAD,AEEJ,WAAKD,IAAL,CAAUC,KAAV,CAAgB,QAAhB,EAA0B,+BAA1B;AAEA,WAAKD,IAAL,CAAUyD,gBAAV,CAA2B,OAA3B,EAAmC,uBAAnC;AHFA,ACDA,AEIH;AHFG,ACDA,WDCKzD,ACDAK,GAAL,CDCA,ACDSJ,CDCCA,ICDV,CDCA,ACDe,CDCC,ACDhB,EAAkB,CAAlB,EAAqB,CDCrB,EAAwB,GCDxB,EAA6BoB,SAA7B,CAAuC,CAAvC,EAA0C,CAA1C,EAA6CC,EDC7C,MCDA,CAAsD,CAAtD,EAFI,CAIJ;ADAA,WAAKtB,IAAL,CAAUC,KAAV,CAAgB,IEFdwC,SAAQC,AFEV,EAA+B,MEFdC,QAAO,YFExB;AEDA,AFEA,ACAA,UAAIpB,CCFCiB,AFEAxC,IAAL,CAAUC,IEFV,CFEA,ACAe,CDAC,CEFC,CAAjB,ADGA,KAAKI,AECD,CHFJ,EAA0B,ACC1B,CAASJ,KAAT,CAAe,KAAKW,IAAL,CAAUC,GDDzB,KCCe,CAAmBE,KAAnB,GAAyB,CAAxC,EACI,KAAKH,IAAL,CAAUC,QAAV,CAAmBC,MAAnB,GAA0B,CAA1B,GAA4B,GADhC,EACqC,aADrC,EACoDQ,QADpD,CAC6D,CAD7D,CADA,CALI,CAUJ;ACNA,AFEA,AGCI,WDHCsB,AFEA5C,IAAL,CAAUC,IEFV,CAAe,AFEf,CAAgB,GEFhB,GFEA,EAAuB,2BAAvB;AEDA,AFGA,ACGA,UAAIuB,CCNCK,AFGA7B,IAAL,CAAUE,CCGC,GAAG,CCNd,AFGA,CEHgB,AFGA,GCGGuB,CCNnB,GFGA,CCGc,CDHW,ACGApB,GAAX,CAAe,WAAf,CAAd,WDHA,EAAsD,4BAAtD;AEDA,AFEA,ACGAmB,AEJA,MFIAA,KCLKqB,AFEA7C,ECGE,CAAC0B,CDHR,CAAUxB,ECGV,GDHA,CEFA,AFEgB,CEFCuC,KFEjB,EEFwB,AFEA,CEFCV,CAAzB,EAA2BU,OAAO,CAACT,CAAnC,aFEA,EAAoD,2BAApD;AEDA,AFGA,ACIA,AENA,UFMIL,CCPCmB,AFGA9C,AGFA0D,IHEL,CAAUvD,CGFV,EDDA,CAAcsC,ACCA,CHEd,CAAgB,ACIA,GAAG,AENAkB,EDDE,CAACZ,EDOE1C,ECPV,ACCA,CDDa2C,AFG3B,ACImB,AENQ3C,CFMCJ,CDJC,CGFf,CAAiB2D,EFMZ,CAAe,CCPlC,EANwB,ADaL,AENL,CDCd,ACDsC,CFMC,EENzB,CFMK,CENwB,CFMC,EEN9B,EAAkC,IFM7B,CAAnB,EENc,EAA2C,OHEzD,OGFc,CAAd,CAFI,CAKJ;AHCA,ACGAjC,MAAAA,KDHK3B,IAAL,CAAUG,ECGE,CAACyB,EDHb,CAAgB,KCGhB,CAAsB,IAAtB,EDHA,EAA8B,sCAA9B,EAbK,CAeL;AEJI,ADMJD,AEJA,MFIAA,KCNSW,ACEJoB,MDFD,ACEJ,CFIY,AEJAP,CFICtB,CCNK,KAAKO,IDMvB,CCNkB,ADMM,GCNOa,ACE/B,EFIA,CEJ8B,CDFK,CAACC,IAAL,CAAUT,OAAO,CAACU,eAAR,CAAwBpB,CAAlC,CAA3B;AACA,AFIJ,ACIAR,AEP+BQ,MFO/BR,EEP+BQ,CAAC,CHG5B3B,CEJKmC,ACCwB,CAAH,KDD1B,ADQO,CAACT,ECRM,AFIJ,GAAG,EEJMM,GFID/B,EEJJ,CFID,CAASC,ACI1B,CCR+B2C,IAAI,CAACC,EFInB,CAAkB,CEJJ,CAAUT,OAAO,CAACU,eAAR,CAAwBnB,CAAlC,CAA3B;AFKAzB,ACKJgB,AETmCS,MFSnCT,EDLIhB,AGJ+ByB,CAAC,EAAC,MHIxB,ACKF,CAACvB,CDLG,CCKf,CAAe,aAAf,EAA8B,YAAI;ACRlC,AFIQD,ACKJmB,AEV0B,OAA9B,CFUIA,ECTD,AFIKnB,KEJAgC,AFIK,EAAE,GCKC,CAACX,GCTd,GAAiB,IAApB,ADSI,CAAwB,CCTH,GDSrB;ACRA,AFEW,ACOXF,AETJ,QFSIA,GETC+B,EDAId,ICAT,CAAYiB,EFSI,CAAC9B,CCTb,ADSA,CCTe,EDSER,AETrB,GDAI,ACAkB,KAAKoC,GFSK,CAAC5B,CAAZ,EETC,CFSe,AETF1B,EFS/B,CETkB,CAAiByD,KAAjB,CAAuB;ADCzC,AFA+B,ACS/BnC,AEV0CoC,OHC7B,CAAjB,ACSIpC,AEV0CoC,CHfzC,CAsBL,GENSlC,ICD8C,EAAEK,CFUzC,CAACF,CAAb,CCTA,CAAgB,CDSCT,ICTjB,ODS4B,CAACS,CAA7B,AEVyC;ADE5C,ADSA,AEXgEgC,OFOjE,CEPiEA,cAAc,EAAE;ADIpF,AFIG,ACKAzC,AEb6C,MFa7CA,CEbsB,CAAtB,GHQKvB,IAAL,CAAUS,CCKC,CDLX,ACKYA,CDLC,CCKb,CAAe,QDLf,EAAyB,ECKzB,EAA6B,MDLHC,MCKO,CDLR,EAAW;AAChCN,ACKAuB,QDLAvB,ACKAuB,UDLU,CAAChB,CCKC,CAACkB,MDLb,CAAoB,CAApB,EAAuB,ACKvB,CAAwB,IDLG,CAACjB,ACK5B,IDLuB,CAAUC,QAAV,CAAmBC,MAAnB,GAA4B,CAAnD,EACoB,KAAI,CAACF,IAAL,CAAUC,QAAV,CAAmBE,KAAnB,GAA2BL,OAD/C,EACwD,EADxD;AAGH,ACGA,AEbD,OHMA,ACKA,IEXKgD,MAAL,CAAYO,MAAZ,GAAqB,YAAI;AHe5B,ACCG1C,AEfE,MFeFA,MEfM2C,KFeK,CAACzD,AEfA,EFeZ,CAAe,AEfA,KAAI,CDGhB2C,ACHiBM,KFepB,CCZQL,ACHO,CFea,AEfDQ,MDGb,CCHC,CAAoBM,GAApB,CFeiB,CEf9B;ADIF,ADaI,QAAA,GCbC3B,EDaG,CAACf,KAAL,CCbJ,ADaeC,ICbG2B,ADad,CAAgB,ICbpB,QDaI;ACZJ,ACJE,QAAA,GDIGtB,CAAL,CCJM,CAACqC,EDIG,KAAK9B,CCJb,CAAcjC,GAAd,CDIQ,ACJU6D,GDIIb,GCJtB,EDIF;AACA,ADYI7B,QAAAA,GCZCQ,CAAL,GDYW,CCZD,ADYEC,IAAR,CCZWM,MAAL,EFUN,CEVoBc,KAAxB;AFWA,AGfIa,QAAAA,GHeClD,GGfK,CAACqD,CHeX,CAAWpD,GGfP,CAAa,CHejB,CAAiBxB,GGfI,CAACiE,KHeDhE,CGfjB,EAAyB,GHeZ,CAAWE,CGfK,CAAC0E,EHelC,GGf6B,CAAWvC,CAApC,EAAsC,KAAI,CAACuC,KAAL,CAAWtC,CAAjD;ADMJ,AFUH,ACEO,AEjBH,OAJD,CFqBI,ECZD,GDYK,CAAChB,CCZDwB,IDYJ,CAAWvB,ICZZ,CDYC,CAAiBxB,CCZD,IAApB,EAAyB,EDYAC,MAAJ,CAAW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","file":"main.1e43358e.js","sourceRoot":"..","sourcesContent":["export const CST ={\r\n    SCENES : {\r\n        LOAD: \"LOAD\",\r\n        MENU: \"MENU\",\r\n        PLAY: \"PLAY\"   \r\n    }\r\n}","import {CST} from \"../CST\";\r\nexport class LoadScene extends Phaser.Scene{\r\n    constructor(){\r\n        super({\r\n            key: CST.SCENES.LOAD\r\n        })\r\n    }\r\n    init(){\r\n        \r\n    }\r\n\r\n    preload(){\r\n\r\n        //add Loading image, sound and spritesheet\r\n        this.load.image('key1', './assets/title_bg.jpg');\r\n        this.load.image(\"StartButton\", \"./assets/StartButton.png\");\r\n        this.load.image(\"cursor\", \"./assets/fight.png\");\r\n        this.load.image(\"fire\",\"./assets/SkillEffect1.png\");\r\n\r\n        this.load.atlas(\"magic\", \"./assets/sprite/magic.png\", \"./assets/sprite/magic.json\");\r\n        this.load.atlas(\"wolf\", \"./assets/sprite/wolf.png\", \"./assets/sprite/wolf.json\");\r\n\r\n        this.load.audio(\"menuMusic\", \"./assets/music/Rise of spirit.mp3\");\r\n\r\n        this.load.audio(\"beginsound\", \"./assets/soundeffect/metal-clash.wav\");\r\n\r\n        //add loading bar\r\n        let loadingBar = this.add.graphics({\r\n            fillStyle: {\r\n                color: 0xffffff\r\n            }\r\n        })\r\n\r\n        //add Loading event\r\n        this.load.on(\"progress\", (percent)=>{\r\n            loadingBar.fillRect(0, this.game.renderer.height / 2, \r\n                                this.game.renderer.width * percent, 50);\r\n            \r\n        })\r\n\r\n\r\n\r\n   \r\n    }\r\n\r\n    create(){\r\n        this.scene.start(CST.SCENES.MENU);\r\n    }\r\n}","import { CST } from \"../CST\";\r\nexport class MenuScene extends Phaser.Scene{\r\n    constructor(){\r\n        super({\r\n            key: CST.SCENES.MENU\r\n        })\r\n    }\r\n    init(){\r\n\r\n    }\r\n\r\n    create(){\r\n        //add Main menu image\r\n        this.add.image(0, 0, \"key1\").setOrigin(0, 0).setDepth(0);\r\n\r\n        //add Start Button image\r\n        let startButton = \r\n        this.add.image(this.game.renderer.width/2, \r\n            this.game.renderer.height/2+100, \"StartButton\").setDepth(1);\r\n        \r\n        \r\n        //add background music\r\n        let bgmusic = this.sound.add(\"menuMusic\");\r\n        bgmusic.play();\r\n\r\n\r\n        let buttonCursor = this.add.image(100, 100, \"cursor\");\r\n        buttonCursor.setScale(0.03);\r\n        buttonCursor.setVisible(false);\r\n\r\n        \r\n        startButton.setInteractive();\r\n\r\n        startButton.on(\"pointerover\", ()=>{\r\n            buttonCursor.setVisible(true);\r\n            buttonCursor.x = startButton.x - 90;\r\n            buttonCursor.y = startButton.y;\r\n        })\r\n\r\n        startButton.on(\"pointerout\", ()=>{\r\n            buttonCursor.setVisible(false);\r\n        })\r\n\r\n\r\n        startButton.on(\"pointerup\", ()=>{\r\n            \r\n            this.sound.play(\"beginsound\");\r\n            bgmusic.stop();\r\n\r\n            this.scene.start(CST.SCENES.PLAY);\r\n        })\r\n    }\r\n}","export class Bullet extends Phaser.GameObjects.Image {\r\n    constructor(scene){\r\n        super(scene,0,0);\r\n\r\n        this.setTexture('Magic_01.png'); //Need to change to actual bullet\r\n        this.speed = 1;\r\n        this.angle = 0;\r\n        this.xSpeed = 1;\r\n        this.ySpeed = 1;\r\n        this.timeAlive = 0;\r\n        \r\n    }\r\n\r\n    shoot(shooter,mouseX,mouseY){\r\n        this.timeAlive = 0;\r\n        this.setActive(true);\r\n        this.setVisible(true);\r\n\r\n        this.setPosition(shooter.x,shooter.y);\r\n        this.setAngle(shooter.body.rotation);\r\n        \r\n        //Shoots in the direciton the player is facing. \r\n            this.xSpeed = this.speed * Math.sign(shooter.nonZeroVelocity.x); \r\n            this.ySpeed = this.speed * Math.sign(shooter.nonZeroVelocity.y);\r\n       \r\n        if(this.timeAlive > 2000){\r\n            this.setActive(false);\r\n            this.setVisible(false);\r\n        }\r\n    \r\n    }\r\n\r\n    update(time,delta){\r\n        this.timeAlive += delta;\r\n        this.x += this.xSpeed * delta;\r\n        this.y += this.ySpeed * delta;\r\n        \r\n        if(this.timeAlive > 2000){\r\n            this.setActive(false);\r\n            //this.setVisible(false);\r\n        }\r\n    }\r\n\r\n}","//Play scene for our basic playground\r\n//All the functions and character added in this file will be temporary\r\n//just for demo\r\n//Use scene list to generate keyword\r\nimport { CST } from \"../CST\";\r\nimport { Bullet } from \"../gameObjects/Projectiles\";\r\nexport class PlayScene extends Phaser.Scene{\r\n    constructor(){\r\n        super({key:CST.SCENES.PLAY});\r\n    }\r\n\r\n    preload(){ \r\n        this.load.image(\"tiles1\", \"./assets/tiles/map_atlas.png\");\r\n        this.load.image(\"tiles2\", \"./assets/tiles/map_atlas2.png\");\r\n\r\n        this.load.tilemapTiledJSON(\"Mymap\",\"./assets/map/map.json\");\r\n    }\r\n\r\n    create(){\r\n        //create phaser game object, and add in sprite\r\n        this.player = this.physics.add.sprite(300, 300, \"magic\", \"Magic_01.png\" );\r\n       \r\n\r\n        //Temporary attack function. The real one I believe should be inside the player class. \r\n        this.player.nonZeroVelocity = {x:0,y:1};\r\n\r\n        this.player.bullets = this.physics.add.group({classType: Bullet, runChildUpdate: true});\r\n\r\n        this.player.attack = ()=>{\r\n          let bullet = this.player.bullets.get();\r\n          this.children.add(bullet);\r\n            bullet.shoot(this.player,this.input.x,this.input.y);\r\n        };\r\n\r\n        this.input.on('pointerdown',()=>{ //pointerdown event handler\r\n            this.player.attack();\r\n        });\r\n\r\n\r\n        this.wolf = this.physics.add.sprite(100, 100, \"wolf\", \"Wolf_01.png\" );\r\n\r\n        this.player.setCollideWorldBounds(true);\r\n\r\n        //create animations for different directions \r\n        \r\n        this.anims.create({\r\n            key: \"down\",\r\n            frameRate: 8,\r\n            //walking downward animation frames\r\n            frames: this.anims.generateFrameNames('magic', {\r\n            start:1, end:4, zeroPad:2,\r\n            prefix:'Magic_', suffix: '.png'\r\n            }),\r\n            repeat: -1\r\n        });\r\n\r\n        this.anims.create({\r\n            key:'left', \r\n            frameRate: 8,\r\n            //walking left animation frames\r\n            frames: this.anims.generateFrameNames('magic', {\r\n            start:5, end:8, zeroPad:2,\r\n            prefix:'Magic_', suffix: '.png'\r\n            }),\r\n            repeat: -1\r\n        });\r\n\r\n        this.anims.create({\r\n            key:'right', \r\n            frameRate: 8,\r\n            //walking left animation frames\r\n            frames: this.anims.generateFrameNames('magic', {\r\n            start:9, end:12, zeroPad:2,\r\n            prefix:'Magic_', suffix: '.png'\r\n            }),\r\n            repeat: -1\r\n        });\r\n\r\n        this.anims.create({\r\n            key:'up',\r\n            frameRate: 8,\r\n            //walking left animation frames\r\n            frames: this.anims.generateFrameNames('magic', {\r\n            start:13, end:16, zeroPad:2,\r\n            prefix:'Magic_', suffix: '.png'\r\n            }),\r\n            repeat: -1\r\n        });\r\n\r\n        //input and phyics\r\n        this.keyboard = this.input.keyboard.addKeys(\"W, A, S, D\");\r\n\r\n        \r\n        //add in our map\r\n        let Mymap = this.add.tilemap(\"Mymap\");\r\n\r\n        let tiles1 = Mymap.addTilesetImage(\"map_atlas\", \"tiles1\");\r\n        let tiles2 = Mymap.addTilesetImage(\"map_atlas2\", \"tiles2\");\r\n\r\n        //display layers\r\n        let groundLayer = Mymap.createStaticLayer(\"GroundLayer\", [tiles1], 0 , 0).setDepth(-1);\r\n        let centerLayer = Mymap.createStaticLayer(\"Center\", [tiles2], 0 , 0).setDepth(-1);\r\n        let waterLayer = Mymap.createStaticLayer(\"Water\", [tiles1], 0 , 0).setDepth(-1);\r\n        let objectLayer = Mymap.createStaticLayer(\"Objects\", [tiles1], 0 , 0).setDepth(-1);\r\n        let addonLayer = Mymap.createStaticLayer(\"AddOn\", [tiles1], 0 , 0).setDepth(-1);\r\n\r\n\r\n        //Camera\r\n        // set bounds to avoid camera goes outside the map\r\n        this.physics.world.setBounds(0, 0, Mymap.widthInPixels, Mymap.heightInPixels);\r\n\r\n        //camera follows the player\r\n        this.cameras.main.startFollow(this.player);\r\n\r\n\r\n        //If it gets the character, character dies\r\n        let collider = this.physics.add.overlap(this.wolf, this.player, (overlaped) =>{\r\n            //stop when they overplay, kill the player(test)\r\n            overlaped.body.stop();\r\n            this.player.destroy();\r\n            this.physics.world.removeCollider(collider);\r\n        }, null, this);\r\n\r\n    }\r\n\r\n    update(time,delta) {\r\n        \r\n        //key control\r\n        //movement note: we should only be able to move our character when it is alive\r\n        console.log(this.children.length);\r\n        if(this.player.active){\r\n            if(this.keyboard.W.isDown){\r\n                this.player.setVelocityY(-64);\r\n                this.player.play(\"up\", true);\r\n            }\r\n            if(this.keyboard.S.isDown){\r\n                this.player.setVelocityY(64);\r\n                this.player.play(\"down\", true);\r\n            }\r\n            if(this.keyboard.A.isDown){\r\n                this.player.setVelocityX(-64);\r\n                this.player.play(\"left\", true);\r\n            }\r\n            if(this.keyboard.D.isDown){\r\n                this.player.setVelocityX(64);\r\n                this.player.play(\"right\", true);\r\n            }\r\n            if(this.keyboard.W.isUp && this.keyboard.S.isUp){\r\n                this.player.setVelocityY(0);\r\n\r\n            }\r\n            if(this.keyboard.A.isUp && this.keyboard.D.isUp){\r\n                this.player.setVelocityX(0);\r\n\r\n            }\r\n\r\n            if(this.player.body.velocity.x != 0 || this.player.body.velocity.y != 0){\r\n                this.player.nonZeroVelocity = {x:this.player.body.velocity.x,y:this.player.body.velocity.y}; \r\n                //velocity unless the actual velocity is zero then it stores previous nonzero velocity\r\n                //Need this value to keep track of the current direction when player is standing still. Prob will chage this later to direction\r\n            }\r\n        }\r\n\r\n        //TEST!!!---let the monster chases our character\r\n        this.physics.moveToObject(this.wolf, this.player);\r\n\r\n    }\r\n\r\n}","/** @type {import { \"../typing/phaser\" };} */\r\n\r\nimport { LoadScene } from \"./scenes/LoadScene\";\r\nimport { MenuScene } from \"./scenes/MenuScene\";\r\nimport { PlayScene } from \"./scenes/PlayScene\";\r\n\r\nlet game = new Phaser.Game({\r\n    type: Phaser.AUTO,\r\n    width:800,\r\n    height:600,\r\n    physics: {\r\n        default: 'arcade',\r\n        arcade: {\r\n            debug: true\r\n        }\r\n    },\r\n    scene:[\r\n       LoadScene,MenuScene,PlayScene\r\n    ],\r\n    render:{\r\n        pixelArt: true\r\n    }\r\n});\r\n\r\n"]}